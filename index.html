<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dicky Tâ€™s â€“ Coming Soon</title>

  <!-- Temporary free stand-ins; swap for licensed faces later -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@800;900&family=Oswald:wght@600;700&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
  <meta name="description" content="Dicky Tâ€™s Spice Rub â€” Cleveland based and chef-made. Coming soon." />
</head>
<body>
  <main class="hero">
    <div class="canvas">
    <!-- Stickers (images) -->
    <img class="sticker knead" src="DickyTs_Sticker_YouKneadIt.png" alt="You Knead It badge" />
    <img class="sticker smile" src="DickyTs_Sticker_WinkFaceGIF.gif" alt="Smiley sticker" />
    <img class="sticker exclaim" src="DickyTs_Sticker_Exclamation.png" alt="Exclamation bubble" />
    <img class="sticker coming" src="/DickyTs_Sticker_ComingSoon.png" alt="Coming Soon" />
    <img class="sticker tonsils" src="DickyTs_Sticker_Tonsils.png" alt="Tickle your tonsils sticker" />

    <!-- Side copy -->
    <div class="side left">
      <p>CLEVELAND</p>
      <p>BASED</p>
    </div>
    <div class="side right">
      <p>AND CHEF</p>
      <p>MADE</p>
    </div>

    <!-- Center lockup (single PNG the designers export) -->
    <section class="lockup" aria-label="Dicky Tâ€™s Spice Rub">
      <img class="lockup-img"
           src="DickyTs_Logo_Cropped.png"
           alt="DICKY Tâ€™S SPICE RUB logo" />
      <img class="mouth-img" src="assets/mouth.png" alt="" />
      <p class="tagline">
        BECAUSE THE BEST FLAVOR STARTS WHEN YOU<br class="hide-sm" />
        GRAB YOUR MEAT &amp; RUB IT
      </p>
      
      <!-- Email signup -->
<form id="signup" class="signup" aria-label="Email sign up">
  <label for="email" class="visually-hidden">Email</label>
  <input id="email" name="email" type="email" inputmode="email"
         placeholder="Enter your email" required>
  <input type="text" name="company" class="hp" tabindex="-1" autocomplete="off">
  <button type="submit" id="submitBtn">Notify Me</button>
  <p class="msg" id="formMsg" role="status" aria-live="polite"></p>
</form>

<script>
  // ðŸ‘‰ Replace with your deployed Web App URL from Apps Script
  const WEB_APP_URL = "https://script.google.com/macros/s/REPLACE_WITH_YOURS/exec";

  const form = document.getElementById('signup');
  const btn  = document.getElementById('submitBtn');
  const msg  = document.getElementById('formMsg');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    // Basic front-end validation
    const email = (document.getElementById('email').value || '').trim();
    const bot   = (form.querySelector('.hp').value || '').trim(); // honeypot
    if (!email || bot) return;

    btn.disabled = true;
    btn.textContent = 'Submittingâ€¦';
    msg.textContent = '';

    // Build a simple form payload to avoid CORS preflight
    const data = new FormData(form);
    // Optional: pass basic context (UTMs if present)
    const params = new URLSearchParams(window.location.search);
    ['utm_source','utm_medium','utm_campaign'].forEach(k => {
      if (params.get(k)) data.append(k, params.get(k));
    });
    data.append('ref', location.href);
    data.append('ua',  navigator.userAgent);

    try {
      // Use `no-cors` to skip preflight (Apps Script will receive it fine)
      await fetch(WEB_APP_URL, { method: 'POST', body: data, mode: 'no-cors' });

      // We canâ€™t read the response in no-cors modeâ€”assume success if no error is thrown
      form.reset();
      msg.textContent = 'Thanks! Youâ€™re on the list.';
    } catch (err) {
      msg.textContent = 'Hmm, something went wrong. Please try again.';
      console.error(err);
    } finally {
      btn.disabled = false;
      btn.textContent = 'Notify Me';
    }
  });
</script>

    </section>
    </div>
    <div class="foot">
    <p>&copy; 2025 Dicky Tâ€™s. All rights reserved.</p>
  </div>
  </main>

</body>
</html>
